import*as n from"https://cdn.jsdelivr.net/npm/vanilla-jsoneditor/index.js";import*as e from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/lib/codemirror.js";import*as t from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/mode/javascript/javascript.js";import*as o from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/mode/css/css.js";import*as r from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/mode/xml/xml.js";import*as s from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/mode/htmlmixed/htmlmixed.js";import*as a from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/mode/markdown/markdown.js";import*as i from"https://cdn.jsdelivr.net/npm/codemirror@5.62.2/addon/edit/closetag.js";var c,d,l,u,m,p,h,b,g,f,v,y,j,k,x={989:(n,e,t)=>{t.d(e,{Z:()=>m});var o=t(81),r=t.n(o),s=t(645),a=t.n(s),i=t(656),c=t(472),d=t(721),l=t(140),u=a()(r());u.i(i.Z),u.i(c.Z),u.i(d.Z),u.i(l.Z),u.push([n.id,"body {\n  background-color: var(--bg-color);\n  color: var(--fg-color);\n}\n",""]);const m=u},721:(n,e,t)=>{t.d(e,{Z:()=>i});var o=t(81),r=t.n(o),s=t(645),a=t.n(s)()(r());a.push([n.id,"/*\n  jsonEditorComponent\n  json-editor-component\n*/\njson-editor {\n  background-color: black;\n  display:block;\n  border-bottom: 1px solid grey;\n  width: 100%;\n  --jse-theme-color: var(--bg-color);\n  --jse-button-primary-background-highlight: var(--bg-color);\n  --jse-button-primary-background: var(--bg-color);\n  --jse-background-color: var(--bg-color);\n  --jse-text-color: var(--fg-color);\n  --jse-panel-background: var(--bg-color);\n  --jse-panel-button-color: var(--fg-color);\n  --jse-main-border: none;\n  --jse-selection-background-inactive-color: white;\n  --jse-context-menu-pointer-hover-background: white;\n  --jse-theme: dark;\n\n  /* over all fonts, sizes, and colors */\n  --jse-theme-color-highlight: #467cd2;\n\n  /* main, menu, modal */\n  --jse-main-border: none;\n  --jse-menu-color: #fff;\n  --jse-modal-background: #2f2f2f;\n  --jse-modal-overlay-background: rgba(0, 0, 0, 0.5);\n  --jse-modal-code-background: #2f2f2f;\n\n  /* tooltip in text mode */\n  --jse-tooltip-color: var(--jse-text-color);\n  --jse-tooltip-background: #4b4b4b;\n  --jse-tooltip-border: 1px solid #737373;\n  --jse-tooltip-action-button-color: inherit;\n  --jse-tooltip-action-button-background: #737373;\n\n  /* panels: navigation bar, gutter, search box */\n  --jse-panel-background: var(--bg-color);\n  --jse-panel-background-border: 1px solid #464646;\n  --jse-panel-color: var(--jse-text-color);\n  --jse-panel-color-readonly: #737373;\n  --jse-panel-border: 1px solid #3c3c3c;\n  --jse-panel-button-color-highlight: #e5e5e5;\n  --jse-panel-button-background-highlight: #464646;\n\n  /* navigation-bar */\n  --jse-navigation-bar-background: #656565;\n  --jse-navigation-bar-background-highlight: #7e7e7e;\n  --jse-navigation-bar-dropdown-color: var(--jse-text-color);\n\n  /* context menu */\n  --jse-context-menu-background: #4b4b4b;\n  --jse-context-menu-background-highlight: #595959;\n  --jse-context-menu-separator-color: #595959;\n  --jse-context-menu-color: var(--jse-text-color);\n  --jse-context-menu-pointer-background: #737373;\n  --jse-context-menu-pointer-background-highlight: #818181;\n  --jse-context-menu-pointer-color: var(--jse-context-menu-color);\n\n  /* contents: json key and values */\n  --jse-key-color: #9cdcfe;\n  --jse-value-color: var(--jse-text-color);\n  --jse-value-color-number: #b5cea8;\n  --jse-value-color-boolean: #569cd6;\n  --jse-value-color-null: #569cd6;\n  --jse-value-color-string: #ce9178;\n  --jse-value-color-url: #ce9178;\n  --jse-delimiter-color: #949494;\n  --jse-edit-outline: 2px solid var(--jse-text-color);\n\n  /* contents: selected or hovered */\n  --jse-selection-background-color: #464646;\n  --jse-selection-background-inactive-color: #333333;\n  --jse-hover-background-color: #343434;\n  --jse-active-line-background-color: rgba(255, 255, 255, 0.06);\n  --jse-search-match-background-color: #343434;\n\n  /* contents: section of collapsed items in an array */\n  --jse-collapsed-items-background-color: #333333;\n  --jse-collapsed-items-selected-background-color: #565656;\n  --jse-collapsed-items-link-color: #b2b2b2;\n  --jse-collapsed-items-link-color-highlight: #ec8477;\n\n  /* contents: highlighting of search results */\n  --jse-search-match-color: #724c27;\n  --jse-search-match-outline: 1px solid #966535;\n  --jse-search-match-active-color: #9f6c39;\n  --jse-search-match-active-outline: 1px solid #bb7f43;\n\n  /* contents: inline tags inside the JSON document */\n  --jse-tag-background: #444444;\n  --jse-tag-color: #bdbdbd;\n\n  /* contents: table */\n  --jse-table-header-background: #333333;\n  --jse-table-header-background-highlight: #424242;\n  --jse-table-row-odd-background: rgba(255, 255, 255, 0.1);\n\n  /* controls in modals: inputs, buttons, and `a` */\n  --jse-input-background: #3d3d3d;\n  --jse-input-border: var(--jse-main-border);\n  --jse-button-background: #808080;\n  --jse-button-background-highlight: #7a7a7a;\n  --jse-button-color: #e0e0e0;\n  --jse-button-secondary-background: #494949;\n  --jse-button-secondary-background-highlight: #5d5d5d;\n  --jse-button-secondary-background-disabled: #9d9d9d;\n  --jse-button-secondary-color: var(--jse-text-color);\n  --jse-a-color: #55abff;\n  --jse-a-color-highlight: #4387c9;\n\n  /* svelte-select */\n  --background: #3d3d3d;\n  --border: 1px solid #4f4f4f;\n  --list-background: #3d3d3d;\n  --item-hover-bg: #505050;\n  --multi-item-bg: #5b5b5b;\n  --input-color: #d4d4d4;\n  --multi-clear-bg: #8a8a8a;\n  --multi-item-clear-icon-color: #d4d4d4;\n  --multi-item-outline: 1px solid #696969;\n  --list-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.4);\n\n  /* color picker */\n  --jse-color-picker-background: #656565;\n  --jse-color-picker-border-box-shadow: #8c8c8c 0 0 0 1px;\n}",""]);const i=a},140:(n,e,t)=>{t.d(e,{Z:()=>i});var o=t(81),r=t.n(o),s=t(645),a=t.n(s)()(r());a.push([n.id,"\n/*\nlnsyEdit\nlnsy-edit\n*/\nlnsy-edit {\n  font-family: var(--editor-font);\n  display:block;\n  border: 1px solid grey;\n  margin: 1em;\n  padding-bottom: 1em;\n}\n\nlnsy-edit button, lnsy-edit .button {\n  border: var(--editor-border);\n  background-color: transparent;\n  color: var(--fg-color);\n  margin: 0 1em 0 0;\n  padding: 0.25em 0.5em;\n  text-decoration: none;\n  box-sizing: border-box;\n  font-size: 10pt;\n}\n\n\nlnsy-edit details {\n  width: 100%;\n  display: block;\n  padding-left:1em;\n  \n}\n\n.CodeMirror-sizer {\npadding: 1em;\n}\n\n/*\n  Name:   lnsy-edit\n  Author: by LNSY, adapted from DuoTone themes by Simurai (http://simurai.com/projects/2016/01/01/duotone-themes)\n\n  CodeMirror template by Jan T. Sott (https://github.com/idleberg), adapted by Bram de Haan (https://github.com/atelierbram/)\n*/\n\n.cm-s-lnsy-edit.CodeMirror { background: #000; color: #fff; }\n.cm-s-lnsy-edit div.CodeMirror-selected { background: #545167!important; }\n.cm-s-lnsy-edit .CodeMirror-gutters { background: #2a2734; border-right: 0px; }\n.cm-s-lnsy-edit .CodeMirror-linenumber { color: #545167; }\n\n/* begin cursor */\n.cm-s-lnsy-edit .CodeMirror-cursor { border-left: 1px solid #ffad5c; /* border-left: 1px solid #ffad5c80; */ border-right: .5em solid #ffad5c; /* border-right: .5em solid #ffad5c80; */ opacity: .5; }\n.cm-s-lnsy-edit .CodeMirror-activeline-background { background: #363342; /* background: #36334280;  */ opacity: .5;}\n.cm-s-lnsy-edit .cm-fat-cursor .CodeMirror-cursor { background: #ffad5c; /* background: #ffad5c80; */ opacity: .5;}\n/* end cursor */\n\n.cm-s-lnsy-edit span.cm-atom, .cm-s-lnsy-edit span.cm-number, .cm-s-lnsy-edit span.cm-keyword, .cm-s-lnsy-edit span.cm-variable, .cm-s-lnsy-edit span.cm-attribute, .cm-s-lnsy-edit span.cm-quote, .cm-s-lnsy-edit span.cm-hr, .cm-s-lnsy-edit span.cm-link { color: #ffcc99; }\n\n.cm-s-lnsy-edit span.cm-property { color: #9a86fd; }\n.cm-s-lnsy-edit span.cm-punctuation, .cm-s-lnsy-edit span.cm-unit, .cm-s-lnsy-edit span.cm-negative { color: #e09142; }\n.cm-s-lnsy-edit span.cm-string { color: #ffb870; }\n.cm-s-lnsy-edit span.cm-operator { color: #ffad5c; }\n.cm-s-lnsy-edit span.cm-positive { color: #6a51e6; }\n\n.cm-s-lnsy-edit span.cm-variable-2, .cm-s-lnsy-edit span.cm-variable-3, .cm-s-lnsy-edit span.cm-type, .cm-s-lnsy-edit span.cm-string-2, .cm-s-lnsy-edit span.cm-url { color: var(--secondary-bright-color); }\n.cm-s-lnsy-edit span.cm-def, .cm-s-lnsy-edit span.cm-tag, .cm-s-lnsy-edit span.cm-builtin, .cm-s-lnsy-edit span.cm-qualifier, .cm-s-lnsy-edit span.cm-header, .cm-s-lnsy-edit span.cm-em { color: #999; }\n.cm-s-lnsy-edit span.cm-bracket, .cm-s-lnsy-edit span.cm-comment { color: #6c6783; }\n\n/* using #f00 red for errors, don't think any of the colorscheme variables will stand out enough, ... maybe by giving it a background-color ... */\n.cm-s-lnsy-edit span.cm-error, .cm-s-lnsy-edit span.cm-invalidchar { color: #f00; }\n\n.cm-s-lnsy-edit span.cm-header { font-weight: normal; }\n.cm-s-lnsy-edit .CodeMirror-matchingbracket { text-decoration: underline; color: #eeebff !important; } \n\n\n.CodeMirror {\n     width: 100% !important;\n     height: 100% !important;\n} \n",""]);const i=a},656:(n,e,t)=>{t.d(e,{Z:()=>i});var o=t(81),r=t.n(o),s=t(645),a=t.n(s)()(r());a.push([n.id,"/* Reset from https://andy-bell.co.uk/a-more-modern-css-reset/ */\n\n/* Box sizing rules */\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n/* Prevent font size inflation */\nhtml {\n  -moz-text-size-adjust: none;\n  -webkit-text-size-adjust: none;\n  text-size-adjust: none;\n}\n\n/* Remove default margin in favour of better control in authored CSS */\nbody, h1, h2, h3, h4, p,\nfigure, blockquote, dl, dd {\n  margin-block-end: 0;\n}\n\n/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */\nul[role='list'],\nol[role='list'] {\n  list-style: none;\n}\n\n/* Set core body defaults */\nbody {\n  min-height: 100vh;\n  line-height: 1.5;\n}\n\n/* Set shorter line heights on headings and interactive elements */\nh1, h2, h3, h4,\nbutton, input, label {\n  line-height: 1.1;\n}\n\n/* Balance text wrapping on headings */\nh1, h2,\nh3, h4 {\n  text-wrap: balance;\n}\n\n/* A elements that don't have a class get default styles */\na:not([class]) {\n  text-decoration-skip-ink: auto;\n  color: currentColor;\n}\n\n/* Make images easier to work with */\nimg,\npicture {\n  max-width: 100%;\n  display: block;\n}\n\n/* Inherit fonts for inputs and buttons */\ninput, button,\ntextarea, select {\n  font: inherit;\n}\n\n/* Make sure textareas without a rows attribute are not tiny */\ntextarea:not([rows]) {\n  min-height: 10em;\n}\n\n/* Anything that has been anchored to should have extra scroll margin */\n:target {\n  scroll-margin-block: 5ex;\n}\n",""]);const i=a},472:(n,e,t)=>{t.d(e,{Z:()=>i});var o=t(81),r=t.n(o),s=t(645),a=t.n(s)()(r());a.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible&display=swap);"]),a.push([n.id,"/* CSS */\n:root {\n  --editor-font: 'Atkinson Hyperlegible', sans-serif;\n  --bg-color: black;\n  --fg-color: white;\n  --secondary-bright-color: #00FF00;\n  --highlight-color: #F57F00;\n  --mid-tone-color: grey;\n  --editor-border: 1px solid var(--mid-tone-color);\n}",""]);const i=a},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,s){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(a[c]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);o&&a[l[0]]||(void 0!==s&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=s),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:n=>{n.exports=function(n){return n[1]}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var s={},a=[],i=0;i<n.length;i++){var c=n[i],d=o.base?c[0]+o.base:c[0],l=s[d]||0,u="".concat(d," ").concat(l);s[d]=l+1;var m=t(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)e[m].references++,e[m].updater(p);else{var h=r(p,o);o.byIndex=i,e.splice(i,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var s=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<s.length;a++){var i=t(s[a]);e[i].references--}for(var c=o(n,r),d=0;d<s.length;d++){var l=t(s[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}s=c}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},w={};function C(n){var e=w[n];if(void 0!==e)return e.exports;var t=w[n]={id:n,exports:{}};return x[n](t,t.exports,C),t.exports}C.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return C.d(e,{a:e}),e},C.d=(n,e)=>{for(var t in e)C.o(e,t)&&!C.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},C.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),C.nc=void 0,(()=>{const e=(t={JSONEditor:()=>n.JSONEditor},o={},C.d(o,t),o);var t,o;class r extends HTMLElement{constructor(){super()}connectedCallback(){if(this.content=this.getAttribute("value"),null===this.content)this.content={};else try{this.content=JSON.parse(this.content)}catch(n){this.content={}}this.init()}async init(){this.editor=new e.JSONEditor({target:this,props:{content:{json:this.content},onChange:(n,e,{contentErrors:t,patchResult:o})=>{this.content=n;const r=new CustomEvent("save",{detail:{content:this.content,timestamp:(new Date).toISOString()}});this.dispatchEvent(r)}}})}getData(){return this.editor.get().json}updateData(n){const e={json:n};this.editor.set(e)}static get observedAttributes(){return["values"]}attributeChangedCallback(n,e,t){"values"===n&&this.updateData(t)}}customElements.define("json-editor",r),C.d({},{}),C.d({},{}),C.d({},{}),C.d({},{}),C.d({},{}),C.d({},{}),C.d({},{}),document.head.insertAdjacentHTML("beforeend",'<link rel=stylesheet href="https://cdn.jsdelivr.net/npm/codemirror@5.62.2/lib/codemirror.css" >');class s extends HTMLElement{connectedCallback(){const n=document.createElement("details");n.innerHTML="<summary></summary>";const e=document.createElement("button");e.innerText="save",e.addEventListener("click",(n=>{this.saveData()})),n.appendChild(e),this.download_link=document.createElement("a"),this.download_link.setAttribute("download",!0),n.appendChild(this.download_link),this.id=this.getAttribute("id"),null===this.id&&(this.id=crypto.randomUUID());const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".md"),t.addEventListener("change",(n=>{const e=n.target.files[0];if(e){const n=new FileReader;n.onload=n=>{this.loadMarkdown(n.target.result)},n.readAsText(e)}})),n.appendChild(t),this.json_editor=document.createElement("json-editor"),n.appendChild(this.json_editor),this.appendChild(n),this.textarea=document.createElement("textarea"),this.appendChild(this.textarea),this.editor=CodeMirror.fromTextArea(this.textarea,{lineNumbers:!1,mode:"markdown",theme:"lnsy-edit",autoCloseTags:!0,lineWrapping:!0,fencedCodeBlockHighlighting:!0}),this.editor.setOption("extraKeys",{Tab:function(n){var e=Array(n.getOption("indentUnit")+1).join(" ");n.replaceSelection(e)}}),window.addEventListener("keydown",(n=>{n.ctrlKey&&"KeyS"===n.code&&(n.preventDefault(),this.saveData())}));let o=this.getAttribute("metadata");o=null===o?{}:JSON.parse(o);let r=this.getAttribute("content");null===r&&(r=""),this.loadData(r,o)}saveData(){const n=this.json_editor.getData(),e=this.editor.getValue(),t=this.getMarkdown(),o=new CustomEvent("save",{detail:{metadata:n,content:e,markdown:t,timestamp:(new Date).toISOString()}});this.dispatchEvent(o);const r=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(r);this.download_link.innerText="Download",this.download_link.classList.add("button"),this.download_link.href=s;let a=`${this.id}-${Date.now()}`;this.download_link.download=`${a}.md`}loadData(n,e){this.json_editor.updateData(e),this.editor.setValue(n)}loadMarkdown(n){const e=function(n){const e=n.match(/^---\s*[\r\n]+([\s\S]*?)[\r\n]+---\s*[\r\n]+/);if(null===e)return{};if(e&&e[1]){const n=e[1];try{return JSON.parse(n)}catch(n){return console.error("Error parsing frontmatter:",n),{}}}return null}(n),t=function(n){return n.replace(/^---\n([\s\S]*?)\n---/,"").trim()}(n);this.json_editor.updateData(e),this.editor.setValue(t)}getMarkdown(){const n=this.json_editor.getData(),e=this.editor.getValue();return`---\n${JSON.stringify(n)}\n---\n${e}\n`}}customElements.define("lnsy-edit",s)})(),c=C(379),d=C.n(c),l=C(795),u=C.n(l),m=C(569),p=C.n(m),h=C(565),b=C.n(h),g=C(216),f=C.n(g),v=C(589),y=C.n(v),j=C(989),(k={}).styleTagTransform=y(),k.setAttributes=b(),k.insert=p().bind(null,"head"),k.domAPI=u(),k.insertStyleElement=f(),d()(j.Z,k),j.Z&&j.Z.locals&&j.Z.locals;